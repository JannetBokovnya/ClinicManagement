@model ClinicManagement.Web.ViewModel.PatientFormViewModel
@{
    ViewBag.Title = Model.Heading;
    Layout = null;
}

@*<h5 >Добавить пациента</h5>
    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>*@
<div>
    <div class="modal-header">
        @*<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Modal title</h4>*@

        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">Добавить пациента</h4>
    </div>

    <div class="modal-body">


        @using (Html.BeginForm(Model.Action, "api/Patient", FormMethod.Post, new { onsubmit = "return SubmitForm(this)", autocomplete = "off", id = "reused_form" }))
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(m => m.Id)
            @Html.HiddenFor(m => m.Token)

            <div class="row form-row">
                <div class="col-12 col-sm-6">
                    <div class="form-group">
                        <label>Имя <span class="required">*</span></label>
                        @Html.TextBoxFor(m => m.FirstName, new { @class = "form-control ", autofocus = "true" })
                        @Html.ValidationMessageFor(m => m.FirstName)
                    </div>
                </div>
                <div class="col-12 col-sm-6">
                    <div class="form-group">
                        <label>Фамилия <span class="required">*</span></label>
                        @Html.TextBoxFor(m => m.LastName, new { @class = "form-control ", autofocus = "true" })
                        @Html.ValidationMessageFor(m => m.LastName)
                    </div>
                </div>
                <div class="col-12 col-sm-12">
                    <div class="form-group">
                        <label>Пол <span class="required">*</span></label>
                        @Html.DropDownListFor(m => m.Sex, Model.GendersList, new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.Sex)
                    </div>
                </div>
                <div class="col-12 col-sm-12">
                    <div class="form-group">
                        <label>Дата рождения <span class="required">*</span></label>
                        @Html.TextBoxFor(m => m.BirthDate, String.Format("{0:d/M/yyyy}", Model.BirthDate), new { @class = "form-control  datepicker " })

                        @*@Html.TextBoxFor(model => model.DOB, String.Format("{0:d/M/yyyy}", Model.DOB), new { @class = "form-control datepicker",*@

                        @Html.ValidationMessageFor(m => m.BirthDate)
                    </div>
                </div>
                <div class="col-12 col-sm-6">
                    <div class="form-group">
                        <label>Рост,см</label>
                        @Html.TextBoxFor(m => m.Height, new { @class = "form-control ", autofocus = "true" })
                        @Html.ValidationMessageFor(m => m.Height)
                    </div>
                </div>
                <div class="col-12 col-sm-6">
                    <div class="form-group">
                        <label>Вес, кг </label>
                        @Html.TextBoxFor(m => m.Height, new { @class = "form-control ", autofocus = "true" })
                        @Html.ValidationMessageFor(m => m.Height)
                    </div>
                </div>
                <div class="col-12 col-sm-12">
                    <div class="form-group">
                        <label>Телефон <span class="required">*</span></label>
                        @Html.TextBoxFor(m => m.Phone, new { @class = "form-control " })
                        @Html.ValidationMessageFor(m => m.Phone)
                    </div>
                </div>
                <div class="col-12 col-sm-12">
                    <div class="form-group">
                        <label>Город <span class="required">*</span></label>
                        @Html.DropDownListFor(m => m.City, new SelectList(Model.Cities, "Id", "Name"), "Select", new { @class = "form-control " })
                        @Html.ValidationMessageFor(m => m.City)
                    </div>
                </div>
                <div class="col-12 col-sm-12">
                    <div class="form-group">
                        <label>Адрес <span class="required">*</span></label>
                        @Html.TextBoxFor(m => m.Address, new { @class = "form-control " })
                        @Html.ValidationMessageFor(m => m.Address)
                    </div>
                </div>
            </div>
            <input type="submit" value="Сохранить" id="btnSaveUs" class="btn btn-primary btn-block" />
                    @*<div class="row form-row">
        <div class="col-12 col-sm-12">
            <div class="form-group">
                <input type="submit" value="Сохранить" id="btnSaveUs" class="btn btn-primary btn-block" />
            </div>
        </div>
    </div>*@

                            }


                    </div>





    

</div>

<script type="text/javascript">
    $(document).ready(function () {

        $('.datepicker').datepicker({
            //format: {
            //    toDisplay: function (date, format, language) {
            //        var d = new Date(date);
            //        return date.getDate() + "." + date.getMonth() + "." + date.getFullYear();
            //    },
            //}
            format: 'd/M/yyyy',
            //clearBtn: true,
            todayHighlight: true,
            //todayBtn: true,
            //todayBtn: 'linked',
            orientation: "top left",
            autoclose: true
        });

    });
</script>

